
1
00:00:03,000 --> 00:00:06,000
Hmm? [He Makes Funny Music Sounds Drum Sounds]

2
00:00:06,000 --> 00:00:09,000
[He Continues to Make Funny Drum Sounds]

3
00:00:09,000 --> 00:00:12,000
Hey guys! So, we're going to tidy up a

4
00:00:12,000 --> 00:00:15,000
little now, before we move on. We're going to delete the Music Player

5
00:00:15,000 --> 00:00:18,000
that's unecessary. We're going to setup the game

6
00:00:18,000 --> 00:00:21,000
window resolution, to our target resolution.

7
00:00:21,000 --> 00:00:24,000
We're going to show you a couple of keyboard shortcuts,

8
00:00:24,000 --> 00:00:27,000
and remove the whole canvas on the Game

9
00:00:27,000 --> 00:00:30,000
Scene and make the Lose collider load the next level. Wow,

10
00:00:30,000 --> 00:00:33,000
loads of thing! Cool! So, let's dive into Unity, take a look

11
00:00:33,000 --> 00:00:36,000
at all of that then and see how it's going to work.

12
00:00:36,000 --> 00:00:39,000
OK, so firstly

13
00:00:39,000 --> 00:00:42,000
you'll notice that on the Start

14
00:00:42,000 --> 00:00:45,000
Menu, we have a Music Player. Don't worry about this,

15
00:00:45,000 --> 00:00:48,000
at the moment, the fact that the text is overspilling. We're going to sort that soon.

16
00:00:48,000 --> 00:00:51,000
But we have a Music Player and when we play,

17
00:00:51,000 --> 00:00:54,000
and move onto

18
00:00:54,000 --> 00:00:57,000
the Game Scene, we end up with

19
00:00:57,000 --> 00:01:00,000
the Music Player, if we look here, a duplicate Music Player

20
00:01:00,000 --> 00:01:03,000
self destructing. We don't need a second Music

21
00:01:03,000 --> 00:01:06,000
Player on this Game Scene. Now, you're Music Player is

22
00:01:06,000 --> 00:01:09,000
designed to move from one scene to another, so this is a good time to just

23
00:01:09,000 --> 00:01:12,000
tidy that up, so get rid of your Music Player.

24
00:01:12,000 --> 00:01:15,000
OK, so whenever you see things that can

25
00:01:15,000 --> 00:01:18,000
be tidied and simplified, do take the time like this to do it.

26
00:01:18,000 --> 00:01:21,000
The second thing is we noticed, just now,

27
00:01:21,000 --> 00:01:24,000
on the Start Menu that this text doesn't fit.

28
00:01:24,000 --> 00:01:27,000
Why is that? Well, I'd like to show you in an

29
00:01:27,000 --> 00:01:30,000
ability to change the actual resolution. We've locked

30
00:01:30,000 --> 00:01:33,000
4:3 aspect ratio, but the text

31
00:01:33,000 --> 00:01:36,000
is in a fixed number of pixels, and we don't know how many pixels

32
00:01:36,000 --> 00:01:39,000
that is until we look at the context.

33
00:01:39,000 --> 00:01:42,000
So, if you add a new resolution here,

34
00:01:42,000 --> 00:01:45,000
so you go to Game, and then, you click on where

35
00:01:45,000 --> 00:01:48,000
it says 4:3 and then you click on the + at the bottom

36
00:01:48,000 --> 00:01:51,000
to get to this screen. And let's make our target resolution

37
00:01:51,000 --> 00:01:54,000
800 by 600, which is still a 4:3

38
00:01:54,000 --> 00:01:57,000
aspect ratio. And let's just get it a very clear...

39
00:02:00,000 --> 00:02:03,000
Just give it a very clear name, 800 by 600.

40
00:02:03,000 --> 00:02:06,000
What else is there to say?

41
00:02:06,000 --> 00:02:09,000
Cool! Now, if we select that, then look

42
00:02:09,000 --> 00:02:12,000
it looks the same, at the moment, but it gives us a warning that it's only

43
00:02:12,000 --> 00:02:15,000
currently set to 416 by 312.

44
00:02:15,000 --> 00:02:18,000
So, what I'm going to do for the rest of this section, probably, is

45
00:02:18,000 --> 00:02:21,000
pull out the Game Window. It's quite tricky! You have to get it somewhere where it

46
00:02:21,000 --> 00:02:24,000
detaches, like... Very tricky

47
00:02:24,000 --> 00:02:27,000
sometimes. There you go! It's detached there, once you're dragging.

48
00:02:27,000 --> 00:02:30,000
And then, I'm just going to make it quite large, but not the

49
00:02:30,000 --> 00:02:33,000
entire screen, making sure that I've got at least 800 by 600. Here you go! Look at the

50
00:02:33,000 --> 00:02:36,000
top left. The warning goes away when

51
00:02:36,000 --> 00:02:39,000
the Vertical and Horizontal Resolutions both

52
00:02:39,000 --> 00:02:42,000
exceed the Target Resolution. There you go, 800 by

53
00:02:42,000 --> 00:02:45,000
600. Perfect! And actually now, the text fits fine!

54
00:02:45,000 --> 00:02:48,000
I'm now going to use one new keyboard shortcut.

55
00:02:48,000 --> 00:02:51,000
If you look in your Window Menu, you've got a

56
00:02:51,000 --> 00:02:54,000
Command, or on a Windows machine Control

57
00:02:54,000 --> 00:02:57,000
1 and 2, takes you between the scenes in the game. So look, let's just do that!

58
00:02:57,000 --> 00:03:00,000
Command 2 is here, the game. Command 1 is the

59
00:03:00,000 --> 00:03:03,000
scene. So, I'm going to switch between them like that now

60
00:03:03,000 --> 00:03:06,000
and let's just test all this. Let's go to the Start

61
00:03:06,000 --> 00:03:09,000
Menu, saving. Click play.

62
00:03:09,000 --> 00:03:12,000
It defaults to the game. We could go back to the scene

63
00:03:12,000 --> 00:03:15,000
to see what's going on, well behind the scenes! [Laughs] Excuse the pun!

64
00:03:15,000 --> 00:03:18,000
Or we can go to the Game Window, and it's nice and big.

65
00:03:18,000 --> 00:03:21,000
The ball falls off and then obviously

66
00:03:21,000 --> 00:03:24,000
we'd need to, at the moment, click Game Over to go around the loop. Let's

67
00:03:24,000 --> 00:03:27,000
just go back into the game and look at

68
00:03:27,000 --> 00:03:30,000
the Console. Is there a duplicate Music Player

69
00:03:30,000 --> 00:03:33,000
self destructing. There does still seem to be. So, when's that

70
00:03:33,000 --> 00:03:36,000
happening, would be my question. Let's clear the Console,

71
00:03:36,000 --> 00:03:39,000
start on the Start Menu,

72
00:03:39,000 --> 00:03:42,000
and you can make

73
00:03:42,000 --> 00:03:45,000
this smaller, if you need to be able to see the Console. So,

74
00:03:45,000 --> 00:03:48,000
just play around with your windows, so that you can see your Game Scene and your

75
00:03:48,000 --> 00:03:51,000
Console at the same time.

76
00:03:51,000 --> 00:03:54,000
OK, that's good! And then, I'm using keyboard shortcuts to move between

77
00:03:54,000 --> 00:03:57,000
them, so when I start it loads a level, and when I

78
00:03:57,000 --> 00:04:00,000
go Game Over it loads the Win Screen. That's good!

79
00:04:00,000 --> 00:04:03,000
OK, and now it's only when we go back to the

80
00:04:03,000 --> 00:04:06,000
start that the Music Player self destructs. That is OK

81
00:04:06,000 --> 00:04:09,000
because the Music Player is in the Start Scene, and when we loop

82
00:04:09,000 --> 00:04:12,000
back to the Start Scene, we want the Music Player to

83
00:04:12,000 --> 00:04:15,000
self destruct. That's some functionality we specifically put in

84
00:04:15,000 --> 00:04:18,000
there. Cool! So, we've done that! The other handy

85
00:04:18,000 --> 00:04:21,000
keyboard shortcut I wanted to show you was the ability to start and stop

86
00:04:21,000 --> 00:04:24,000
Play. If you look in the Edit Menu, you have Play and Pause,

87
00:04:24,000 --> 00:04:27,000
Command or Control P. So, I could be here and just go

88
00:04:27,000 --> 00:04:30,000
Command P. It goes to the Game Window and I could go Command P

89
00:04:30,000 --> 00:04:33,000
again to stop. OK,

90
00:04:33,000 --> 00:04:36,000
and that's just another handy keyboard shortcut.

91
00:04:36,000 --> 00:04:39,000
Cool! The other thing we've got hanging

92
00:04:39,000 --> 00:04:42,000
over here is, we've got a Canvas

93
00:04:42,000 --> 00:04:45,000
hanging around in Level 1, that has this "Game Over"

94
00:04:45,000 --> 00:04:48,000
Button. We used that for testing the music, but we're about to

95
00:04:48,000 --> 00:04:51,000
wire up the LoseCollider, so that it loads the levels.

96
00:04:51,000 --> 00:04:54,000
So, let's just get rid of all of this User Interface stuff. So, click

97
00:04:54,000 --> 00:04:57,000
on Canvas, and it will take away the Canvas

98
00:04:57,000 --> 00:05:00,000
and the button, so just delete that

99
00:05:00,000 --> 00:05:03,000
and the event system, because that's only related to the User Interface. That's

100
00:05:03,000 --> 00:05:06,000
all gone and now maybe double click or click

101
00:05:06,000 --> 00:05:09,000
on background and F to

102
00:05:09,000 --> 00:05:12,000
frame it, i.e. to fill the screen with a background.

103
00:05:12,000 --> 00:05:15,000
Cool! Now, you're game scene should still play, and the ball

104
00:05:15,000 --> 00:05:18,000
will fall out. That's all normal, there's no music

105
00:05:18,000 --> 00:05:21,000
because we started here. We'll only get music now

106
00:05:21,000 --> 00:05:24,000
if we start on the Start Menu, because we deleted the

107
00:05:24,000 --> 00:05:27,000
instance of the MusicManager. Let's try it!

108
00:05:27,000 --> 00:05:30,000
Cool!

109
00:05:30,000 --> 00:05:33,000
All working nicely! So, the final

110
00:05:33,000 --> 00:05:36,000
thing to do is to make this Lose Collider Script actually

111
00:05:36,000 --> 00:05:39,000
load the next level. So, how are we going to do that?

112
00:05:39,000 --> 00:05:42,000
Well, let's do it! Firstly, let's check the LevelManager

113
00:05:42,000 --> 00:05:45,000
Script, and make sure it has a method we can call.

114
00:05:45,000 --> 00:05:48,000
LoadLevel(string name). Yes it does! Good!

115
00:05:48,000 --> 00:05:51,000
That's good! And we have a LevelManager in the level,

116
00:05:51,000 --> 00:05:54,000
so all we need to do is go into our LooseCollider.

117
00:05:54,000 --> 00:05:57,000
And which trigger was it? ("Trigger")

118
00:05:57,000 --> 00:06:00,000
or ("Collision")? Well, two ways of finding out, depends

119
00:06:00,000 --> 00:06:03,000
what you left your LooseCollider as, in the

120
00:06:03,000 --> 00:06:06,000
scene. Let's just click over to

121
00:06:06,000 --> 00:06:09,000
the Game Scene. Let's take a look at the LoseCollider, mine

122
00:06:09,000 --> 00:06:12,000
is a trigger. It probably makes sense. When we play

123
00:06:12,000 --> 00:06:15,000
and look at the Console, we get

124
00:06:15,000 --> 00:06:18,000
this log "Trigger". OK, so that tells us that

125
00:06:18,000 --> 00:06:21,000
that's where we need to be in terms of the script. We need to be on

126
00:06:21,000 --> 00:06:24,000
this OnTriggerEnter method OK.

127
00:06:24,000 --> 00:06:27,000
So, I could leave the ("Collision") one there,

128
00:06:27,000 --> 00:06:30,000
if necessary, but this is what I want to change.

129
00:06:30,000 --> 00:06:33,000
So, let's leave the log, so that we know that it's happening.

130
00:06:33,000 --> 00:06:36,000
And then, how are we going to do this? Well, we're going to need access

131
00:06:36,000 --> 00:06:39,000
to a LevelManager to do this, so one of the first

132
00:06:39,000 --> 00:06:42,000
things I need to do is expose the LevelManager like this.

133
00:06:42,000 --> 00:06:45,000
public LevelManager, which is a type

134
00:06:45,000 --> 00:06:48,000
that we've created.

135
00:06:48,000 --> 00:06:51,000
levelManager; and then immediately save that script, go back

136
00:06:51,000 --> 00:06:54,000
into Unity, and connect the LevelManager.

137
00:06:54,000 --> 00:06:57,000
You see it's asking for it down here, in the Inspector now,

138
00:06:57,000 --> 00:07:00,000
under the LooseCollider Script component. You

139
00:07:00,000 --> 00:07:03,000
want to pop the LevelManager on there. Now, it's got access to the LevelManager!

140
00:07:03,000 --> 00:07:06,000
That's great! So, back into the script,

141
00:07:06,000 --> 00:07:09,000
and it's simply a question of levelManager, with a small

142
00:07:09,000 --> 00:07:12,000
l. It's the instance of this LevelManager, dot LoadLevel

143
00:07:12,000 --> 00:07:15,000
and then, we provide it a string name.

144
00:07:15,000 --> 00:07:18,000
Now later, we're going to do this a slightly different way, but for now we just

145
00:07:18,000 --> 00:07:21,000
load level ("Win Screen");

146
00:07:21,000 --> 00:07:24,000
when we trigger this LooseCollider.

147
00:07:24,000 --> 00:07:27,000
OK, let's try! Let's see what happens!

148
00:07:27,000 --> 00:07:30,000
Perfect! OK, now let's just

149
00:07:30,000 --> 00:07:33,000
test the whole loop. The music starts, perfect!

150
00:07:33,000 --> 00:07:36,000
The ball falls out, level

151
00:07:36,000 --> 00:07:39,000
loads, Play Again. Quit won't quit, but

152
00:07:39,000 --> 00:07:42,000
It should be logging a quit request and it is.

153
00:07:42,000 --> 00:07:45,000
Fantastic! So, as a recap this is what

154
00:07:45,000 --> 00:07:48,000
we've managed to achieve here. We've deleted that ununecessary

155
00:07:48,000 --> 00:07:51,000
Music Player instance, that was hanging around on Level 1.

156
00:07:51,000 --> 00:07:54,000
We've set our Game Window

157
00:07:54,000 --> 00:07:57,000
to an explicit resolution of 800 by 600, which

158
00:07:57,000 --> 00:08:00,000
is going to be our target resolution, when we build this game for the web.

159
00:08:00,000 --> 00:08:03,000
We've learned two handy keyboard shortcuts.

160
00:08:03,000 --> 00:08:06,000
One is Command or Control 1 and 2,

161
00:08:06,000 --> 00:08:09,000
which switches between the Scene and the Game

162
00:08:09,000 --> 00:08:12,000
View respectively. Particularly useful, when we've detached our

163
00:08:12,000 --> 00:08:15,000
Game Window, like that.

164
00:08:15,000 --> 00:08:18,000
We then removed the whole User Interface, from the game level,

165
00:08:18,000 --> 00:08:21,000
because we're allowing the code on the LooseCollider

166
00:08:21,000 --> 00:08:24,000
to organize the loading of the

167
00:08:24,000 --> 00:08:27,000
next level. We're not using a button anymore. That was just a testing button,

168
00:08:27,000 --> 00:08:30,000
used for navigating ourself around and testing the music.

169
00:08:30,000 --> 00:08:33,000
So that's it! Congratulations and I'll

170
00:08:33,000 --> 00:08:35,766
see you soon!

